<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Archives Assistant</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      padding: 2em;
      max-width: 800px;
      margin: auto;
    }
    #usf-banner {
      background-color: #006747;
      color: white;
      padding: 1em;
      text-align: center;
      font-size: 1.25em;
      font-weight: bold;
      margin: -2em -2em 2em -2em;
    }
    #prompt-form {
      margin-bottom: 2em;
    }
    #prompt {
      width: 100%;
      padding: 0.5em;
      font-size: 1em;
    }
    #response-container {
      margin-top: 2em;
    }
    #response-heading {
      font-weight: bold;
      margin-bottom: 0.5em;
    }
    #response-box {
      background-color: #ffffff;
      border: 2px solid #006747;
      padding: 1.2em;
      border-radius: 8px;
      white-space: pre-wrap;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      font-size: 1.05em;
      line-height: 1.6em;
      color: #333;
    }
    #loading-spinner {
      display: none;
      margin-top: 1em;
      font-style: italic;
    }
    #logo {
      display: block;
      margin: 2em auto 1em auto;
      max-width: 220px;
      height: auto;
    }
    footer {
      text-align: center;
      margin-top: 3em;
      font-size: 0.95em;
    }
    footer a {
      color: #006747;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

<div id="usf-banner">University of South Florida – Special Collections</div>
<h1>AI Archives Assistant</h1>

<form id="prompt-form">
  <input type="text" id="prompt" name="prompt" placeholder="Ask about the archives...">
  <button type="submit">Ask</button>
</form>

<div id="loading-spinner">⏳ Thinking...</div>

<div id="response-container">
  <div id="response-heading">Response:</div>
  <div id="response-box"></div>
</div>

<footer>
  <a href="https://lib.usf.edu/special-collections/" target="_blank">Visit USF Special Collections</a>
  <img id="logo" src="logo.png" alt="USF Libraries Logo">
</footer>

<script>
  const sampleMetadata = [
   {
    title: "Bobby Smith Photograph Collection",
    abstract: "Photographs and ephemera documenting LGBTQ community life, activism, and culture in the Tampa Bay area from the mid-20th century through the early 2000s."
  },
  {
    title: "Tampa International Gay and Lesbian Film Festival Collection",
    abstract: "Archival materials documenting the history and cultural significance of one of the longest-running LGBTQ+ film festivals in the southeastern United States. Includes promotional materials, programs, press coverage, and organizational records that reflect the evolving portrayal and reception of queer cinema and activism in Tampa Bay."
  },
  {
    title: "Equality Florida Records",
    abstract: "Administrative records, correspondence, event materials, and publications from Equality Florida, the state’s largest LGBTQ+ civil rights organization. The collection documents advocacy efforts around anti-discrimination legislation, marriage equality, and community outreach initiatives across the state, with a focus on the Tampa Bay region."
  },
  {
    title: "Tony Pizzo Collection",
    abstract: "Materials relating to the history of Tampa, particularly Ybor City, including photographs, manuscripts, clippings, and personal papers of local historian Tony Pizzo."
  },
  {
    title: "Al Davis Papers",
    abstract: "Personal and professional papers of Al Davis, a prominent local leader, documenting civic engagement, community development, and urban renewal efforts in Tampa."
  },
  {
    title: "Robert W. and Helen S. Saunders Papers",
    abstract: "Documents civil rights activism and education reform in Florida, particularly through the work of NAACP leader Robert Saunders and educator Helen Saunders."
  },
  {
    title: "Jan K. Platt Papers",
    abstract: "Correspondence, public service records, and environmental advocacy documentation from long-serving Hillsborough County Commissioner Jan K. Platt."
  },
  {
    title: "Environmental Lands Acquisition and Protection Program (ELAPP) Collection",
    abstract: "Reports, maps, and internal communications related to Hillsborough County’s efforts to preserve environmentally sensitive lands under the ELAPP initiative."
  },
  {
    title: "Sally Thompson Collection",
    abstract: "Documents the work of Sally Thompson in environmental preservation and community planning in Tampa and Hillsborough County."
  },
  {
    title: "Centro Español de Tampa Collection",
    abstract: "Organizational records, membership lists, photographs, and event materials from Centro Español, a mutual aid society serving Spanish immigrants in Tampa."
  },
  {
    title: "IMC Agrico Phosphate Company Collection",
    abstract: "Corporate documents, photographs, and environmental reports from the phosphate mining operations of IMC Agrico in central Florida."
  },
  {
    title: "Walter P. Fuller Papers",
    abstract: "Newspaper articles, correspondence, and planning documents reflecting Walter Fuller's role in journalism and city development in St. Petersburg, Florida."
  },
  {
    title: "Audubon Society Corkscrew Swamp Sanctuary Records",
    abstract: "Conservation reports, species data, and photographs documenting the work of the Audubon Society at the Corkscrew Swamp Sanctuary in southwest Florida."
  }
  ];

  document.getElementById("prompt-form").addEventListener("submit", function(event) {
    event.preventDefault();
    const promptText = document.getElementById("prompt").value;
    const responseBox = document.getElementById("response-box");
    const spinner = document.getElementById("loading-spinner");
    responseBox.textContent = "";
    spinner.style.display = "block";

    fetch("https://1e61111b-978b-4325-84c9-d92c5b50a766-00-3jdfxn980yu4b.janeway.replit.dev/ask", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        query: promptText,
        context: sampleMetadata
      })
    })
    .then(response => response.json())
    .then(data => {
      spinner.style.display = "none";
      responseBox.textContent = data.response;
    })
    .catch(error => {
      spinner.style.display = "none";
      console.error("Error:", error);
      responseBox.textContent = "❌ Error contacting the AI assistant.";
    });
  });
</script>

</body>
</html>
