<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Archives Assistant</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
      padding: 2em;
      max-width: 800px;
      margin: auto;
    }
    #usf-banner {
      background-color: #006747;
      color: white;
      padding: 1em;
      text-align: center;
      font-size: 1.25em;
      font-weight: bold;
      margin: -2em -2em 2em -2em;
    }
    #prompt-form {
      margin-bottom: 2em;
    }
    #prompt {
      width: 100%;
      padding: 0.5em;
      font-size: 1em;
    }
    #response-container {
      margin-top: 2em;
    }
    #response-heading {
      font-weight: bold;
      margin-bottom: 0.5em;
    }
    #response-box {
      background-color: #ffffff;
      border: 2px solid #006747;
      padding: 1.2em;
      border-radius: 8px;
      white-space: pre-wrap;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      font-size: 1.05em;
      line-height: 1.6em;
      color: #333;
    }
    .result-card {
  background: white;
  border: 1px solid #ccc;
  padding: 1em;
  margin-bottom: 1em;
  border-radius: 8px;
  display: flex;
  gap: 1em;
  align-items: start;
}
.result-card .icon {
  font-size: 2em;
}
.result-card .details {
  flex: 1;
}
.result-card .title {
  margin: 0;
  font-size: 1.2em;
}
.result-card .description {
  margin: 0.5em 0;
  color: #333;
}
    #loading-spinner {
      display: none;
      margin-top: 1em;
      font-style: italic;
    }
    #logo {
      display: block;
      margin: 2em auto 1em auto;
      max-width: 220px;
      height: auto;
    }
    footer {
      text-align: center;
      margin-top: 3em;
      font-size: 0.95em;
    }
    footer a {
      color: #006747;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
    }
    #response-box a {
    color: #0645AD;              /* standard blue */
    text-decoration: underline; /* make it look like a traditional link */
  }

  #response-box a:hover {
    color: #0b0080;              /* darker blue on hover */
  }
  </style>
</head>
<body>

<div id="usf-banner">University of South Florida ‚Äì Special Collections</div>
<h1>AI Archives Assistant</h1>

<form id="prompt-form">
  <input type="text" id="prompt" name="prompt" placeholder="Ask about the archives...">
  <button type="submit">Ask</button>
</form>

<div id="loading-spinner">‚è≥ Thinking...</div>

<div id="response-container">
  <div id="response-box">
  <div class="result-card">
    <div class="icon">üìÅ</div>
    <div class="details">
      <h3 class="title">Tony Pizzo Collection</h3>
      <p class="description">
        Personal papers, research notes, and historical materials assembled by Tony Pizzo, a civic historian known for documenting the history of Tampa, Ybor City, and surrounding communities.
      </p>
      <a href="https://archives.lib.usf.edu/repositories/2/resources/371" target="_blank">View Collection</a>
    </div>
  </div>
</div>

  <div id="response-heading">Response:</div>
  <div id="response-box"></div>
</div>

<footer>
  <a href="https://lib.usf.edu/special-collections/" target="_blank">Visit USF Special Collections</a>
  <img id="logo" src="logo.png" alt="USF Libraries Logo">
</footer>

<script>
  const sampleMetadata = [
  {
    title: "Tony Pizzo Collection",
    abstract: "Documents the cultural and historical development of Tampa, particularly Ybor City, through correspondence, photographs, and ephemera collected by local historian Tony Pizzo.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/371"
  },
  {
    title: "Bobby Smith Photograph Collection",
    abstract: "Photographs and ephemera documenting LGBTQ community life, activism, and culture in the Tampa Bay area from the mid-20th century through the early 2000s.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/269"
  },
  {
    title: "Equality Florida Records",
    abstract: "Organizational records of Equality Florida, the state's leading civil rights organization dedicated to securing full equality for Florida's LGBTQ community.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/496"
  },
  {
    title: "Al Davis Papers",
    abstract: "Papers related to civil rights leader Al Davis, documenting his work in labor unions, political organizing, and community advocacy in Tampa.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/40"
  },
  {
    title: "Robert W. and Helen S. Saunders Papers",
    abstract: "Records of civil rights activists Robert and Helen Saunders, highlighting their work in NAACP leadership, public service, and advocacy across Florida.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/313"
  },
  {
    title: "Jan K. Platt Papers",
    abstract: "Files from the long-serving Hillsborough County Commissioner and Tampa City Council member, including environmental policy and public planning materials.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/222"
  },
  {
    title: "Environmental Lands Acquisition and Protection Program (ELAPP) Collection",
    abstract: "Records documenting the acquisition and preservation of environmentally sensitive lands in Hillsborough County through the ELAPP initiative.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/65"
  },
  {
    title: "Sally Thompson Collection",
    abstract: "Correspondence, publications, and research documenting environmental activism and land preservation efforts in the Tampa Bay area.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/617"
  },
  {
    title: "Centro Espa√±ol de Tampa Collection",
    abstract: "Documents the activities and history of Centro Espa√±ol, a mutual aid society supporting Spanish immigrants in Ybor City.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/567"
  },
  {
    title: "IMC Agrico Phosphate Company Collection",
    abstract: "Corporate records and photographs from a major phosphate mining company with operations across central Florida.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/434"
  },
  {
    title: "Walter P. Fuller Papers",
    abstract: "Materials related to St. Petersburg journalist, developer, and civic leader Walter P. Fuller, focusing on city planning and local politics.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/531"
  },
  {
    title: "Audubon Society Corkscrew Swamp Sanctuary Records",
    abstract: "Administrative and conservation records of the sanctuary documenting land management and environmental education efforts in Southwest Florida.",
    url: "https://archives.lib.usf.edu/repositories/2/resources/583"
  },
    {
  title: "Tampa International Gay and Lesbian Film Festival Collection",
  abstract: "Archival materials documenting the history and cultural significance of one of the longest-running LGBTQ+ film festivals in the southeastern United States. Includes promotional materials, programs, press coverage, and organizational records that reflect the evolving portrayal and reception of queer cinema and activism in Tampa Bay.",
  url: "https://archives.lib.usf.edu/repositories/2/resources/641"
}
];


  document.getElementById("prompt-form").addEventListener("submit", function(event) {
    event.preventDefault();
    const promptText = document.getElementById("prompt").value;
    const responseBox = document.getElementById("response-box");
    const spinner = document.getElementById("loading-spinner");
    responseBox.textContent = "";
    spinner.style.display = "block";

    console.log("üöÄ Sending", sampleMetadata.length, "collections to the AI:");
    console.log(sampleMetadata);

    fetch("https://1e61111b-978b-4325-84c9-d92c5b50a766-00-3jdfxn980yu4b.janeway.replit.dev/ask", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        query: promptText,
        context: sampleMetadata
      })
    })
    .then(response => response.json())
    .then(data => {
      spinner.style.display = "none";
      responseBox.innerHTML = data.response;
    })
    .catch(error => {
      spinner.style.display = "none";
      console.error("Error:", error);
      responseBox.textContent = "‚ùå Error contacting the AI assistant.";
    });
  });
</script>

</body>
</html>
